import{l as t,n as e,o as a,s,U as n,a3 as o,t as i,a8 as r,G as l,w as p,K as c}from"./preset_utils-Dv9lejVC.chunk.js";import{R as d}from"./suggest_reforges_action-BK2_hU8B.chunk.js";import{a4 as g,a5 as u,a6 as m,a7 as h,G as S,bm as f,bn as I,bq as P,bp as y,ac as O,af as v,aJ as b,ad as C,ae as R,a as T,ah as A,ai as H,at as k,au as w,aj as E,ak as G,al as M,am as x,S as D,F as q,R as F,ar as W,br as j}from"./detailed_results-LT4I5IXe.chunk.js";import{A as B,M as L,O as U,T as _}from"./inputs-BOhtkDbg.chunk.js";const K={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{spellId:57934}}},doAtValue:{const:{val:"-1s"}}},{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{and:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:5171}}}}},{cmp:{op:"OpEq",lhs:{currentComboPoints:{}},rhs:{const:{val:"0"}}}}]}},strictSequence:{actions:[{castSpell:{spellId:{spellId:1752}}},{castSpell:{spellId:{spellId:5171}}}]}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLt",lhs:{auraRemainingTime:{auraId:{spellId:5171}}},rhs:{const:{val:"3"}}}},{cmp:{op:"OpLe",lhs:{currentComboPoints:{}},rhs:{const:{val:"3"}}}}]}},castSpell:{spellId:{spellId:5171}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpLe",lhs:{currentEnergy:{}},rhs:{const:{val:"50"}}}},{auraIsActive:{auraId:{spellId:84747}}},{cmp:{op:"OpEq",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}}]}},castSpell:{spellId:{spellId:51690}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpGt",lhs:{spellTimeToReady:{spellId:{spellId:51690}}},rhs:{const:{val:"15"}}}}]}},castSpell:{spellId:{spellId:13750}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGe",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},{not:{val:{dotIsActive:{spellId:{spellId:1943}}}}},{not:{val:{auraIsActive:{auraId:{spellId:84747}}}}},{not:{val:{auraIsActive:{auraId:{spellId:13877}}}}},{not:{val:{auraIsActive:{auraId:{spellId:13750}}}}},{cmp:{op:"OpGe",lhs:{remainingTime:{}},rhs:{const:{val:"12"}}}},{not:{val:{auraIsActive:{auraId:{spellId:2825,tag:-1}}}}},{or:{vals:[{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:33876}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:16511}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:57386}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:29859}}}]}}]}},castSpell:{spellId:{spellId:1943}}}},{action:{condition:{cmp:{op:"OpGe",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},castSpell:{spellId:{spellId:2098}}}},{hide:!0,action:{condition:{cmp:{op:"OpLt",lhs:{dotRemainingTime:{spellId:{spellId:96648}}},rhs:{const:{val:"1.5"}}}},castSpell:{spellId:{spellId:5938}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLe",lhs:{currentComboPoints:{}},rhs:{const:{val:"4"}}}},{not:{val:{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:84617}}}}},{cmp:{op:"OpGt",lhs:{auraRemainingTime:{auraId:{spellId:5171}}},rhs:{const:{val:"5"}}}}]}},castSpell:{spellId:{spellId:84617}}}},{hide:!0,action:{condition:{and:{vals:[{cmp:{op:"OpEq",lhs:{currentComboPoints:{}},rhs:{const:{val:"4"}}}},{not:{val:{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:84617}}}}},{cmp:{op:"OpGt",lhs:{auraRemainingTime:{auraId:{spellId:5171}}},rhs:{const:{val:"3"}}}}]}},castSpell:{spellId:{spellId:84617}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLt",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},{cmp:{op:"OpLe",lhs:{currentEnergy:{}},rhs:{const:{val:"40"}}}}]}},castSpell:{spellId:{spellId:1776}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLt",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}}]}},castSpell:{spellId:{spellId:1752}}}},{action:{castSpell:{spellId:{spellId:57934}}}}]},V={items:[{id:71539,enchant:4209,gems:[68778,52211],reforging:140},{id:71610},{id:71541,enchant:4204,gems:[52212],reforging:168},{id:71415,enchant:4100,gems:[52212,52212],reforging:138},{id:71455,enchant:4102,gems:[52212,52212],reforging:153},{id:71428,randomSuffix:-136,enchant:4258,gems:[0],reforging:168},{id:71538,enchant:4107,gems:[52212,0],reforging:147},{id:71641,gems:[52220,52212],reforging:145},{id:71540,enchant:4126,gems:[52212,52220],reforging:145},{id:71467,enchant:4105,gems:[52212],reforging:145},{id:71216,gems:[52212],reforging:153},{id:71401,reforging:153},{id:69150},{id:69112},{id:71454,enchant:4099,reforging:145},{id:71427,enchant:4099,gems:[52212],reforging:161},{id:71611,reforging:147}]},z={items:[{id:59455,enchant:4209,gems:[68778,59493,59479]},{id:71129,reforging:145},{id:60302,enchant:4204,gems:[52220],reforging:147},{id:69884,randomSuffix:-136,enchant:1099,reforging:168},{id:71045,enchant:4102,gems:[52212,52220],reforging:145},{id:71130,enchant:4258,gems:[0],reforging:145},{id:69942,enchant:4107,gems:[52212,0],reforging:168},{id:60231,gems:[52220,52212,52212],reforging:145},{id:71048,enchant:4126,gems:[52212,52220],reforging:145},{id:69951,enchant:4105,gems:[52212]},{id:65367,randomSuffix:-136,reforging:165},{id:71209,reforging:146},{id:65026},{id:58181,reforging:138},{id:70162,enchant:4099,reforging:138},{id:68601,enchant:4099,reforging:138},{id:71152,reforging:138}]},J=t("P1 Combat",{items:[{id:65241,enchant:4209,gems:[68778,52220],reforging:146},{id:65107,reforging:168},{id:65243,enchant:4204,gems:[52220],reforging:147},{id:69884,randomSuffix:-136,enchant:1099,reforging:168},{id:65239,enchant:4102,gems:[52212,52220]},{id:65050,enchant:4258,gems:[0],reforging:145},{id:65240,enchant:4107,gems:[52212,0],reforging:153},{id:60231,gems:[52220,52212,52212],reforging:145},{id:65381,randomSuffix:-202,enchant:4126,gems:[52212,52220],reforging:168},{id:65144,enchant:4105,gems:[52212],reforging:168},{id:65367,randomSuffix:-136,reforging:168},{id:65082,reforging:145},{id:65026},{id:58181,reforging:138},{id:68130,randomSuffix:-136,enchant:4099,reforging:165},{id:68600,enchant:4099,reforging:146},{id:65095,reforging:147}]}),N=t("P3 Combat",V),Q=t("Pre-Raid Combat",z),X=e("Combat",K),Y=a("Combat",g.fromMap({[u.StatAgility]:2.85,[u.StatStrength]:1.05,[u.StatAttackPower]:1,[u.StatCritRating]:.9,[u.StatHitRating]:2.21,[u.StatHasteRating]:1.36,[u.StatMasteryRating]:1.33,[u.StatExpertiseRating]:1.74},{[m.PseudoStatMainHandDps]:4.31,[m.PseudoStatOffHandDps]:1.32,[m.PseudoStatSpellHitPercent]:46,[m.PseudoStatPhysicalHitPercent]:210})),Z=a("Combat 4PT12",g.fromMap({[u.StatAgility]:2.85,[u.StatStrength]:1.05,[u.StatAttackPower]:1,[u.StatCritRating]:1.09,[u.StatHitRating]:2.21,[u.StatHasteRating]:1.52,[u.StatMasteryRating]:1.41,[u.StatExpertiseRating]:1.74},{[m.PseudoStatMainHandDps]:4.31,[m.PseudoStatOffHandDps]:1.32,[m.PseudoStatSpellHitPercent]:46,[m.PseudoStatPhysicalHitPercent]:210})),$={name:"Combat",data:h.create({talentsString:"0322-2332030310230012321-003",glyphs:S.create({prime1:f.GlyphOfAdrenalineRush,prime2:f.GlyphOfSinisterStrike,prime3:f.GlyphOfSliceAndDice,major1:I.GlyphOfBladeFlurry,major2:I.GlyphOfTricksOfTheTrade,major3:I.GlyphOfGouge})})},tt=P.create({classOptions:{mhImbue:y.InstantPoison,ohImbue:y.DeadlyPoison,thImbue:y.WoundPoison,applyPoisonsManually:!1,startingOverkillDuration:20,vanishBreakTime:.1}}),et=O.create({defaultPotion:v.PotionOfTheTolvir,prepopPotion:v.PotionOfTheTolvir,defaultConjured:b.ConjuredRogueThistleTea,flask:C.FlaskOfTheWinds,food:R.FoodSkeweredEel}),at={distanceFromTarget:5},st=s(D.SpecCombatRogue,{cssClass:"combat-rogue-sim-ui",cssScheme:T.getCssClass(T.Rogue),knownIssues:[],epStats:[u.StatAgility,u.StatStrength,u.StatAttackPower,u.StatHitRating,u.StatCritRating,u.StatHasteRating,u.StatMasteryRating,u.StatExpertiseRating],epPseudoStats:[m.PseudoStatMainHandDps,m.PseudoStatOffHandDps,m.PseudoStatPhysicalHitPercent,m.PseudoStatSpellHitPercent],epReferenceStat:u.StatAttackPower,displayStats:A.createDisplayStatArray([u.StatHealth,u.StatStamina,u.StatAgility,u.StatStrength,u.StatAttackPower,u.StatMasteryRating,u.StatExpertiseRating],[m.PseudoStatPhysicalHitPercent,m.PseudoStatSpellHitPercent,m.PseudoStatPhysicalCritPercent,m.PseudoStatSpellCritPercent,m.PseudoStatMeleeHastePercent]),defaults:{gear:N.gear,epWeights:Y.epWeights,statCaps:(new g).withStat(u.StatExpertiseRating,26*H),softCapBreakpoints:(()=>{const t=k.fromPseudoStat(m.PseudoStatSpellHitPercent,{breakpoints:[16.95,16.96,16.97,16.98,16.99,17],capType:w.TypeSoftCap,postCapEPs:[0,0,0,0,0,0]});return[k.fromPseudoStat(m.PseudoStatPhysicalHitPercent,{breakpoints:[8,27],capType:w.TypeSoftCap,postCapEPs:[110,0]}),t,k.fromStat(u.StatHasteRating,{breakpoints:[2070,2150,2250],capType:w.TypeSoftCap,postCapEPs:[0,0,0]})]})(),other:at,consumes:et,talents:$.data,specOptions:tt,raidBuffs:E.create({arcaneBrilliance:!0,bloodlust:!0,markOfTheWild:!0,icyTalons:!0,moonkinForm:!0,leaderOfThePack:!0,powerWordFortitude:!0,strengthOfEarthTotem:!0,trueshotAura:!0,wrathOfAirTotem:!0,demonicPact:!0,blessingOfKings:!0,blessingOfMight:!0,communion:!0}),partyBuffs:G.create({}),individualBuffs:M.create({}),debuffs:x.create({mangle:!0,sunderArmor:!0,shadowAndFlame:!0,earthAndMoon:!0,bloodFrenzy:!0})},playerInputs:{inputs:[B()]},playerIconInputs:[L(),U(),_()],includeBuffDebuffInputs:[n,o,i,r],excludeBuffDebuffInputs:[],otherInputs:{inputs:[l,p]},encounterPicker:{showExecuteProportion:!1},presets:{epWeights:[Y,Z],talents:[$],rotations:[X],gear:[Q,J,N]},autoRotation:t=>{t.sim.encounter.targets.length;return X.rotation.rotation},raidSimPresets:[{spec:D.SpecCombatRogue,talents:$.data,specOptions:tt,consumes:et,defaultFactionRaces:{[q.Unknown]:F.RaceUnknown,[q.Alliance]:F.RaceHuman,[q.Horde]:F.RaceOrc},defaultGear:{[q.Unknown]:{},[q.Alliance]:{1:J.gear},[q.Horde]:{1:J.gear}},otherDefaults:at}]});class nt extends c{constructor(t,e){super(t,e,st),e.sim.waitForInit().then((()=>{new d(this,{updateSoftCaps:t=>{const a=e.getEpWeights().getStat(u.StatHasteRating),s=t.find((t=>t.unitStat.equalsStat(u.StatHasteRating)));return s&&(s.postCapEPs=[a-.1,a-.2,a-.3]),t},updateGearStatsModifier(t){const a=e.getEquippedItem(W.ItemSlotMainHand)?.item.weaponType;return e.getRace()==F.RaceHuman&&(a==j.WeaponTypeSword||a==j.WeaponTypeMace)||e.getRace()==F.RaceOrc&&a==j.WeaponTypeAxe?t.addStat(u.StatExpertiseRating,90):t}})})),this.player.changeEmitter.on((t=>{const e=this.player.getSpecOptions(),a=this.sim.encounter;if(!e.classOptions.applyPoisonsManually){const t=this.player.getGear().getEquippedItem(W.ItemSlotMainHand)?.item.weaponSpeed,s=this.player.getGear().getEquippedItem(W.ItemSlotOffHand)?.item.weaponSpeed;if(void 0===t||void 0===s)return;a.targets.length>3?(e.classOptions.mhImbue=y.InstantPoison,e.classOptions.ohImbue=y.InstantPoison):t<=s?(e.classOptions.mhImbue=y.DeadlyPoison,e.classOptions.ohImbue=y.InstantPoison):(e.classOptions.mhImbue=y.InstantPoison,e.classOptions.ohImbue=y.DeadlyPoison)}this.player.setSpecOptions(t,e)})),this.sim.encounter.changeEmitter.on((t=>{const e=this.player.getSpecOptions(),a=this.sim.encounter;if(!e.classOptions.applyPoisonsManually){const t=this.player.getGear().getEquippedItem(W.ItemSlotMainHand)?.item.weaponSpeed,s=this.player.getGear().getEquippedItem(W.ItemSlotOffHand)?.item.weaponSpeed;if(void 0===t||void 0===s)return;a.targets.length>3?(e.classOptions.mhImbue=y.InstantPoison,e.classOptions.ohImbue=y.InstantPoison):t<=s?(e.classOptions.mhImbue=y.DeadlyPoison,e.classOptions.ohImbue=y.InstantPoison):(e.classOptions.mhImbue=y.InstantPoison,e.classOptions.ohImbue=y.DeadlyPoison)}this.player.setSpecOptions(t,e)}))}}export{nt as C};
